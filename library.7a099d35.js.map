{"mappings":"YAEA,IAAMA,EAAUC,SAASC,cAAc,kBACjCC,EAAQF,SAASC,cAAc,gBAC/BE,EAAUH,SAASC,cAAc,gBACjCG,EAAWJ,SAASC,cAAc,qBAGpCI,EAAM,cACVH,EAAMI,UAAUC,IAAI,gBACpB,IAAMC,EAAOC,aAAaC,QAAQL,GAC5BM,EAAYC,KAAKC,MAAML,GAE7B,GAAIG,EAAUG,OAGP,IACLC,EAAsBJ,E,CACtB,MAAOK,GACPC,EAASZ,E,MALTY,EAASZ,GA8BX,SAASY,EAASC,GAChB,OAAQd,EAASe,UAAY,wNAEoBC,OAAJF,EAAI,S,CAqBnD,SAASH,EAAsBM,GAC7B,OAAQjB,EAASe,UAAYE,EAC1BC,KACC,SAAAC,G,MAAS,8BAC0EH,OAD5CG,EAAMC,GAAG,wHAOlBJ,OANqDG,EAAME,YAAY,6QAQpDL,OAFnBG,EAAMG,MAAM,uGAKRN,OAUxC,SAAkCG,GAShC,IANA,IAAMI,EAAclB,aAAaC,QAAQ,gBACnCkB,EAAShB,KAAKC,MAAMc,GAEtBE,EAAc,GACZC,EAAmBP,EAAMQ,aAAaC,MAAM,EAAG,GAE5CC,EAAI,EAAGA,EAAIV,EAAMW,UAAUpB,OAAQmB,IAC1CJ,EAAYM,KAAKP,EAAOL,EAAMW,UAAUD,KAG1C,IAAIG,EAAqB,GAGvBA,EADEP,EAAYf,OAAS,EACFe,EAAYQ,OAAO,EAAG,GAAGC,KAAK,MAAQ,UAEtCT,EAAYS,KAAK,MAGxC,OAA+B,IAA3Bf,EAAMW,UAAUpB,QAAiBS,EAAMQ,aAIZ,IAA3BR,EAAMW,UAAUpB,QAAgBS,EAAMQ,aACjCD,EAGsB,IAA3BP,EAAMW,UAAUpB,QAAiBS,EAAMQ,aAIpCK,EAAqB,MAAQN,EAH3BM,EARA,E,CAnC4CG,CACzChB,GACA,gDACwDH,OAA9BG,EAAMiB,aAAaC,QAAQ,GAAG,yD,IAKjEH,KAAK,G,CAjEVnC,EAAQuC,iBAAiB,SAEzB,SAAoBC,GAClBA,EAAEC,iBACFvC,EAAMsC,EAAEE,OAAOrB,GACfsB,QAAQC,IAAI1C,GAuBd,SAA2BmB,GACrBA,IAAOzB,EAAQyB,KACjBtB,EAAMI,UAAU0C,OAAO,gBACvBjD,EAAQO,UAAUC,IAAI,gBACtBL,EAAM+C,gBAAgB,YACtBlD,EAAQmD,aAAa,WAAY,aAG/B1B,IAAOtB,EAAMsB,KACfzB,EAAQO,UAAU0C,OAAO,gBACzB9C,EAAMI,UAAUC,IAAI,gBACpBR,EAAQkD,gBAAgB,YACxB/C,EAAMgD,aAAa,WAAY,Y,CAlCjCC,CAAkB9C,GAClB,IAAM+C,EAAO3C,aAAaC,QAAQL,GAC5BgD,EAAYzC,KAAKC,MAAMuC,GAC/B,GAAIC,EAAUvC,OAGZ,IACEC,EAAsBsC,E,CACtB,MAAOrC,GACPC,EAASZ,E,MALXY,EAASZ,E","sources":["src/js/renderQueueWatchedFilms/renderQueueWachedFilms.js"],"sourcesContent":["\n\nconst watched = document.querySelector('.watched-films');\nconst queue = document.querySelector('.queue-films');\nconst btnList = document.querySelector('.button-list');\nconst librList = document.querySelector('.films__list-libr')\n\n\nlet key = 'queue-films';\nqueue.classList.add('current-page');\nconst resp = localStorage.getItem(key);\nconst parseResp = JSON.parse(resp);\n\nif(!parseResp.length){\n  fooError(key);\n  \n} else{try {\n  renderMoviesCardsLibr(parseResp);\n} catch (error) {\n  fooError(key);\n}}\n\n\nbtnList.addEventListener('click', onBtnClick);\n\nfunction onBtnClick(e) {\n  e.preventDefault();\n  key = e.target.id;\n  console.dir(key);\n  selectCurrentPage(key);\n  const resp = localStorage.getItem(key);\n  const parseResp = JSON.parse(resp);\nif(!parseResp.length){\n  fooError(key);\n} else{\n  try {\n    renderMoviesCardsLibr(parseResp)\n  } catch (error) {\n    fooError(key);\n  }\n}\n\n}\n\nfunction fooError(key) {\n  return (librList.innerHTML = `\n  <img src=\"https://kartinkof.club/uploads/posts/2022-03/1648361803_4-kartinkof-club-p-mem-obezyana-smotrit-v-storonu-5.jpg\" alt=\"monkey\" width=\"400\" height=\"200\">\n  <p>Opss... you haven't added any movies to ${key}</p>\n`);\n}\n\nfunction selectCurrentPage(id) {\n  if (id === watched.id) {\n    queue.classList.remove('current-page');\n    watched.classList.add('current-page');\n    queue.removeAttribute('disabled');\n    watched.setAttribute('disabled', 'disabled');\n  }\n\n  if (id === queue.id) {\n    watched.classList.remove('current-page');\n    queue.classList.add('current-page');\n    watched.removeAttribute('disabled');\n    queue.setAttribute('disabled', 'disabled');\n  }\n}\n\n\nfunction renderMoviesCardsLibr(moviesObjects) {\n  return (librList.innerHTML = moviesObjects\n    .map(\n      movie => `<li class=\"films__card\" id=${movie.id}> <div class=\"films__link\">\n        <div class=\"films__overflow-wrapper\"><img src=\"https://image.tmdb.org/t/p/w500/${movie.poster_path}\"  alt=\"film poster\" class=\"films__picture\" />\n        <div class=\"films__overlay\">\n        <p class=\"films__trailer-text\">Watch trailer</p>\n        <img src=\"\" alt=\"\" class=\"films__trailer-icon\">\n      </div>\n        </div>\n          <p class=\"films__title\">${movie.title}</p>\n          <div class=\"films__details\">\n            <p class=\"films__genres film-font-style\">${createMovieDetalisMarkup(\n              movie\n            )}</p>\n            <span class=\"films__rate\">${movie.vote_average.toFixed(1)}</span>\n          </div>\n        </div>\n      </li>`\n    )\n    .join(''));\n}\n\n\n\nfunction createMovieDetalisMarkup(movie) {\n  // console.log(movie.id);\n\n  const savedGenres = localStorage.getItem('saved-genres');\n  const genres = JSON.parse(savedGenres);\n\n  let movieGenres = [];\n  const movieReleaseYear = movie.release_date.slice(0, 4);\n\n  for (let i = 0; i < movie.genre_ids.length; i++) {\n    movieGenres.push(genres[movie.genre_ids[i]]);\n  }\n\n  let moviesGenresMarkup = '';\n\n  if (movieGenres.length > 2) {\n    moviesGenresMarkup = movieGenres.splice(0, 2).join(', ') + ', Other';\n  } else {\n    moviesGenresMarkup = movieGenres.join(', ');\n  }\n\n  if (movie.genre_ids.length === 0 && !movie.release_date) {\n    return '';\n  }\n\n  if (movie.genre_ids.length === 0 && movie.release_date) {\n    return movieReleaseYear;\n  }\n\n  if (movie.genre_ids.length !== 0 && !movie.release_date) {\n    return moviesGenresMarkup;\n  }\n\n  return moviesGenresMarkup + ' | ' + movieReleaseYear;\n}"],"names":["$14dc96e71a332ac5$var$watched","document","querySelector","$14dc96e71a332ac5$var$queue","$14dc96e71a332ac5$var$btnList","$14dc96e71a332ac5$var$librList","$14dc96e71a332ac5$var$key","classList","add","$14dc96e71a332ac5$var$resp","localStorage","getItem","$14dc96e71a332ac5$var$parseResp","JSON","parse","length","$14dc96e71a332ac5$var$renderMoviesCardsLibr","error","$14dc96e71a332ac5$var$fooError","key1","innerHTML","concat","moviesObjects","map","movie","id","poster_path","title","savedGenres","genres","movieGenres","movieReleaseYear","release_date","slice","i","genre_ids","push","moviesGenresMarkup","splice","join","$14dc96e71a332ac5$var$createMovieDetalisMarkup","vote_average","toFixed","addEventListener","e","preventDefault","target","console","dir","remove","removeAttribute","setAttribute","$14dc96e71a332ac5$var$selectCurrentPage","resp1","parseResp1"],"version":3,"file":"library.7a099d35.js.map"}