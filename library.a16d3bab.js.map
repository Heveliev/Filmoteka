{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,aAGMC,EAAUC,SAASC,cAAc,kBACjCC,EAAQF,SAASC,cAAc,gBAC/BE,EAAUH,SAASC,cAAc,gBACjCG,EAAWJ,SAASC,cAAc,gBAClCI,EAAOL,SAASC,cAAc,cAE9BK,EAAc,gBACdC,EAAY,cAEwB,OAAtCC,aAAaC,QAAQH,KACvBE,aAAaE,QAAQJ,EAAaK,KAAKC,UAAU,MACjD,EAAAC,EAAAC,wBAGsC,OAApCN,aAAaC,QAAQF,KACvBC,aAAaE,QAAQH,EAAWI,KAAKC,UAAU,MAC/C,EAAAC,EAAAC,wBAGF,IAAIC,EAAM,cACVb,EAAMc,UAAUC,IAAI,gBACpB,IAAMC,EAAOV,aAAaC,QAAQM,GAC5BI,EAAYR,KAAKS,MAAMF,GAI7B,GAFAb,EAAKgB,iBAAiB,QAASR,EAAAS,iBAE1BH,EAAUI,OAIb,KACE,EAAA1B,EAAA2B,mBAAkBL,IAClB,EAAAN,EAAAC,sB,CACA,MAAOW,GACPC,EAASX,IACT,EAAAF,EAAAC,sB,MARFY,EAASX,IACT,EAAAF,EAAAC,uBA+BF,SAASY,EAASC,GAChB,OAAQvB,EAASwB,UAAY,yNAEqBC,OAAJF,EAAI,U,CAvBpDxB,EAAQkB,iBAAiB,SAElB,SAAoBS,GACzBA,EAAEC,iBACFhB,EAAMe,EAAEE,OAAOC,GACfC,QAAQC,IAAIpB,GAsBd,SAA2BkB,GACrBA,IAAOlC,EAAQkC,KACjB/B,EAAMc,UAAUoB,OAAO,gBACvBrC,EAAQiB,UAAUC,IAAI,gBACtBf,EAAMmC,gBAAgB,YACtBtC,EAAQuC,aAAa,WAAY,aAG/BL,IAAO/B,EAAM+B,KACflC,EAAQiB,UAAUoB,OAAO,gBACzBlC,EAAMc,UAAUC,IAAI,gBACpBlB,EAAQsC,gBAAgB,YACxBnC,EAAMoC,aAAa,WAAY,Y,CAjCjCC,CAAkBxB,GAClB,IAAMyB,EAAOhC,aAAaC,QAAQM,GAC5B0B,EAAY9B,KAAKS,MAAMoB,GAC7B,GAAKC,EAAUlB,OAGb,KACE,EAAA1B,EAAA2B,mBAAkBiB,E,CAClB,MAAOhB,GACPC,EAASX,E,MALXW,EAASX,E","sources":["src/js/renderQueueWatchedFilms/renderQueueWachedFilms.js"],"sourcesContent":["import { renderMoviesCards } from '../createMoviesMarkup/renderMoviesCards';\nimport { hidePageLoadSpinner,removeLocalData} from '../common/common';\n\nconst watched = document.querySelector('.watched-films');\nconst queue = document.querySelector('.queue-films');\nconst btnList = document.querySelector('.button-list');\nconst librList = document.querySelector('.films__list');\nconst logo = document.querySelector('.logo-link');\n\nconst WATCHED_KEY = 'watched-films';\nconst QUEUE_KEY = 'queue-films';\n\nif (localStorage.getItem(WATCHED_KEY) === null) {\n  localStorage.setItem(WATCHED_KEY, JSON.stringify([]));\n  hidePageLoadSpinner();\n}\n\nif (localStorage.getItem(QUEUE_KEY) === null) {\n  localStorage.setItem(QUEUE_KEY, JSON.stringify([]));\n  hidePageLoadSpinner();\n}\n\nlet key = 'queue-films';\nqueue.classList.add('current-page');\nconst resp = localStorage.getItem(key);\nconst parseResp = JSON.parse(resp);\n\nlogo.addEventListener('click', removeLocalData);\n\nif (!parseResp.length) {\n  fooError(key);\n  hidePageLoadSpinner();\n} else {\n  try {\n    renderMoviesCards(parseResp);\n    hidePageLoadSpinner();\n  } catch (error) {\n    fooError(key);\n    hidePageLoadSpinner();\n  }\n}\n\nbtnList.addEventListener('click', onBtnClick);\n\nexport function onBtnClick(e) {\n  e.preventDefault();\n  key = e.target.id;\n  console.dir(key);\n  selectCurrentPage(key);\n  const resp = localStorage.getItem(key);\n  const parseResp = JSON.parse(resp);\n  if (!parseResp.length) {\n    fooError(key);\n  } else {\n    try {\n      renderMoviesCards(parseResp);\n    } catch (error) {\n      fooError(key);\n    }\n  }\n}\n\nfunction fooError(key) {\n  return (librList.innerHTML = `\n  <img src=\"https://kartinkof.club/uploads/posts/2022-03/1648361803_4-kartinkof-club-p-mem-obezyana-smotrit-v-storonu-5.jpg\" alt=\"monkey\" width=\"400\" height=\"200\">\n  <p>Opss... you haven't added any movies to (${key})</p>\n`);\n}\n\nfunction selectCurrentPage(id) {\n  if (id === watched.id) {\n    queue.classList.remove('current-page');\n    watched.classList.add('current-page');\n    queue.removeAttribute('disabled');\n    watched.setAttribute('disabled', 'disabled');\n  }\n\n  if (id === queue.id) {\n    watched.classList.remove('current-page');\n    queue.classList.add('current-page');\n    watched.removeAttribute('disabled');\n    queue.setAttribute('disabled', 'disabled');\n  }\n}\n"],"names":["$98CTD","parcelRequire","$14dc96e71a332ac5$var$watched","document","querySelector","$14dc96e71a332ac5$var$queue","$14dc96e71a332ac5$var$btnList","$14dc96e71a332ac5$var$librList","$14dc96e71a332ac5$var$logo","$14dc96e71a332ac5$var$WATCHED_KEY","$14dc96e71a332ac5$var$QUEUE_KEY","localStorage","getItem","setItem","JSON","stringify","$v4drH","hidePageLoadSpinner","$14dc96e71a332ac5$var$key","classList","add","$14dc96e71a332ac5$var$resp","$14dc96e71a332ac5$var$parseResp","parse","addEventListener","removeLocalData","length","renderMoviesCards","error","$14dc96e71a332ac5$var$fooError","key1","innerHTML","concat","e","preventDefault","target","id","console","dir","remove","removeAttribute","setAttribute","$14dc96e71a332ac5$var$selectCurrentPage","resp1","parseResp1"],"version":3,"file":"library.a16d3bab.js.map"}